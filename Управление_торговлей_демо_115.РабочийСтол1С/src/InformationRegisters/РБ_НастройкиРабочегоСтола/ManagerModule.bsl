
// Записать настройки рабочего стола.
// 
// Параметры:
//  Пользователи - Массив Из СправочникСсылка.Пользователи,СправочникСсылка.Пользователи - Массив пользователей
//  Настройка - ХранилищеЗначения - Настройка
Процедура ЗаписатьНастройкиРабочегоСтола(Пользователи, Настройка) Экспорт
	НаборДанных = РегистрыСведений.РБ_НастройкиРабочегоСтола.СоздатьНаборЗаписей();
	НаборДанных.Отбор.Пользователь.Установить(Пользователи);
	НаборДанных.Прочитать();
	НаборДанных.Очистить();
	
	Если ТипЗнч(Пользователи) <> Тип("Массив") Тогда
		МассивПользователей = Новый Массив;
		МассивПользователей.Добавить(Пользователи);
	Иначе
		МассивПользователей = Пользователи;
	КонецЕсли;
	
	Для Каждого Пользователь Из МассивПользователей Цикл
		ЗаписьНабора = НаборДанных.Добавить();
		ЗаписьНабора.Пользователь = Пользователь;
		ЗаписьНабора.Настройка = Настройка;
	КонецЦикла;
	НаборДанных.Записать();
КонецПроцедуры

// Получить настройку рабочего стола.
// 
// Параметры:
//  Пользователь - СправочникСсылка.Пользователи - Пользователь
// 
// Возвращаемое значение:
//  ХранилищеЗначения - Получить настройку рабочего стола
Функция ПолучитьНастройкуРабочегоСтола(Пользователь) Экспорт
	Запрос = Новый Запрос("ВЫБРАТЬ
						  |	РБ_НастройкиРабочегоСтола.Настройка
						  |ИЗ
						  |	РегистрСведений.РБ_НастройкиРабочегоСтола КАК РБ_НастройкиРабочегоСтола
						  |ГДЕ
						  |	РБ_НастройкиРабочегоСтола.Пользователь = &Пользователь");
	Запрос.УстановитьПараметр("Пользователь", Пользователь);
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		Возврат Выборка.Настройка;
	КонецЕсли;
	Возврат Новый ХранилищеЗначения(Неопределено);
КонецФункции